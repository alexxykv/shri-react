# Фильмопоиск

По любым вопросам **tg**: [@alexxykv](https://t.me/alexxykv)

## Запуск проекта

1. Установка зависимостей для проектов: `api` и `client`

    ```bash
    npm install
    ```
2. Запуск проекта `api` 

    Дефолтный запуск —
    ```bash
    npm run start
    ```
    Для Windows —
    ```bash
    npm run start2
    ```
3. Запуск проекта `client`

    ```bash
    npm run dev
    ```

Примечание — команды выполняются в корне для каждого проекта.

## Требования к проекту

### Базовые требования:

✔️ Создан github-репозиторий, в нём есть README, gitignore, установлены все необходимые зависимости.

✔️ Проект запускается.

✔️ Вёрстка соответствует дизайн-макетам (допускаются минимальные отхождения, адаптив не требуется).

### Функциональные требования:

#### Шапка

✔️ Позиционируется липко (стики).

#### Авторизация

✔️ Для реализации модального окна используется портал.

✔️ После успешной авторизации кнопка «Войти» меняется на заглушку иконки пользователя и кнопку «Выйти».

✔️ Сохраняем авторизационный токен из ответа ручки бэка (например, в localStorage).

✔️ В идеале, работать с токеном через thunk (где-то в мидлваре).

✔️ По клику на кнопку «Выйти» удаляем токен и снимает авторизацию.

✔️ При инициализации приложения проверяем авторизационный токен.

#### Реализация страницы фильмов

- **Поиск**

    ✔️ Поиск происходит во время ввода пользователем символов. Дёргаем ручку /search.

- **Фильтр**

    ❌ Реализованы фильтры с dropdown.

    ❌ Сохранять фильтры в query-params.

✔️ Реализован список фильмов с пагинацией.

#### Страница фильма

- Реализация получения данных:

    ❌ Дёргаем ручку /movie.

    ❌ Соответствующие данные отрисованы.

- Возможность поставить оценку:

    ❌ Есть запрос за получением оценки для фильма.

    ❌ Если пользователь авторизован, даём возможность поставить оценку — запрос мутации.

    ❌ После выставления оценки обновляем кеш запроса /movie.

#### Общий функционал

❔ Реализовать единообразную обработку ошибок для запросов.

✔️ Реализован лоадер.

✔️ Используем debounce для поиска фильма и выставления оценки.

#### Стор

✔️ Используется rtk и rtk-query.

✔️ Данные корректно разбиты на модули (пример — авторизация, searchParams из фильтров).

✔️ Селекторы написаны оптимально (нет кучи дублирования).

#### Миграция на Next

❌ Реализована миграция с использованием SSR.

❌ Для картинок используется Image некста. Скрины фильма, которые вне вьюпорта грузятся лениво.

❌ Страница фильма реализована с помощью Dynamic Routes.